<!DOCTYPE html>
<html><head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge"><title>ruby project 001 &#43; updating nokogiri - Kim Pham</title><meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="our cohort is is working on our first portfolio project two months into the flatiron school software engineering part time program. we were asked to create a ruby gem that provides a command line interface to interact with the application that uses an external data source (either by API or web scraping). " />
	<meta property="og:image" content=""/>
	<meta property="og:title" content="ruby project 001 &#43; updating nokogiri" />
<meta property="og:description" content="our cohort is is working on our first portfolio project two months into the flatiron school software engineering part time program. we were asked to create a ruby gem that provides a command line interface to interact with the application that uses an external data source (either by API or web scraping). " />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://kimpham54.github.io/post/002/" /><meta property="og:image" content="https://source.unsplash.com/category/technology/1600x900" /><meta property="article:section" content="post" />
<meta property="article:published_time" content="2019-05-15T22:42:28-06:00" />
<meta property="article:modified_time" content="2019-05-15T22:42:28-06:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://source.unsplash.com/category/technology/1600x900"/>

<meta name="twitter:title" content="ruby project 001 &#43; updating nokogiri"/>
<meta name="twitter:description" content="our cohort is is working on our first portfolio project two months into the flatiron school software engineering part time program. we were asked to create a ruby gem that provides a command line interface to interact with the application that uses an external data source (either by API or web scraping). "/>
<script src="https://kimpham54.github.io/js/feather.min.js"></script>
	
	
        <link href="https://kimpham54.github.io/css/fonts.2c2227b81b1970a03e760aa2e6121cd01f87c88586803cbb282aa224720a765f.css" rel="stylesheet">
	

	
	<link rel="stylesheet" type="text/css" media="screen" href="https://kimpham54.github.io/css/main.ac08a4c9714baa859217f92f051deb58df2938ec352b506df655005dcaf98cc0.css" />
		<link id="darkModeStyle" rel="stylesheet" type="text/css" href="https://kimpham54.github.io/css/dark.726cd11ca6eb7c4f7d48eb420354f814e5c1b94281aaf8fd0511c1319f7f78a4.css"  disabled />
	
	
	
		
		
		<link rel="stylesheet" type="text/css" href="https://kimpham54.github.io/css/first.e086ded5cc59b04e89bf508b3f5e373ba406b9b54feaaf0a4865060946673484.css">
		
</head>
<body>
        <div class="content"><header>
	<div class="main">
		<a href="https://kimpham54.github.io/">Kim Pham</a>
		  <div style="display:flex; margin-top: 0.5rem;"><a class="soc" href="https://github.com/kimpham54" title="GitHub"><i data-feather="github"></i></a>
    <a class="soc" href="https://twitter.com/tolloid/" title="Twitter"><i data-feather="twitter"></i></a>
    <a class="soc" href="https://www.linkedin.com/in/kim-pham-a9ba8030/" title="Linkedin"><i data-feather="linkedin"></i></a>
    </div>
	</div>

	<nav>
		
		<a href="/about">About</a>
		
		<a href="/post">Posts</a>
		
		<a href="/tags">Tags</a>
		
		| <a id="dark-mode-toggle" onclick="toggleTheme()" href=""></a>
		<script src="https://kimpham54.github.io/js/themetoggle.js"></script>
		
	</nav>

</header>

<main>
	<article>
		<div class="title">
			<h1 class="title">ruby project 001 &#43; updating nokogiri</h1>
			<div class="meta">Posted on May 15, 2019</div>
		</div>
		

		<section class="body">
			<p>former title: flatiron school portfolio project 001</p>
<p>our cohort is is working on our first portfolio project two months into the flatiron school software engineering part time program. we were asked to create a ruby gem that provides a command line interface to interact with the application that uses an external data source (either by API or web scraping). we were able to use any external data source we wanted, so i made the obvious choice for myself and decided to scrape <a href="https://mountainproject.com">mountain project</a>, a site that describes climbing routes and locations in north america.</p>
<p>i put the <a href="https://github.com/kimpham54/classic_climbs_cli_gem">classic climbs code repository</a> up on github with details on how to install and run the application. it&rsquo;s a little object oriented application that scrapes <a href="https://www.mountainproject.com/area/classics?type=sport">classic sport climbs</a>, prints out a list of those climbs, and the user can then select one of those climbs to get more details about it, scraped from a specific climb&rsquo;s page, such as <a href="https://www.mountainproject.com/route/106183204/space-boyz">space boyz</a> (point of pride note: i climbed this route in march!)</p>
<p>it was a fun exercise to create this application, and it helps that you get to work on content that you enjoy working with. getting to build an object oriented ruby application hardened some of the concepts for me, and helped me think through some of the ways to optimize the program by thinking hard about separation of concerns, improving performance, and trying to be DRY (don&rsquo;t repeat yourself).</p>
<p>i wanted to note one thing, which makes me think about what it means to work in tech or to be a software developer.</p>
<p>the tl;dr: software development is not just about programming and getting your code to work for you, there&rsquo;s many considerations to take into account to say that you have a working application. it&rsquo;s the planning, setting up environment, testing, deployment, security, everything to make your code not only work but continuously operational.</p>
<p>the tl:</p>
<p>when i finished the application and pushed it to github, i noticed a warning:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>looking into the security alert, it says there is a critical issue with the nokogiri dependency:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>the specific issue with nokogiri is that the version used to build the application is outdated, and it wants us to use a version 1.8.5 or later:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>github automatically tracks vulnerabilities in dependencies and provides security alerts to you. ruby is one of the supported languages, according to github it does the following</p>
<blockquote>
<p>GitHub tracks public vulnerabilities in packages from supported languages on MITRE&rsquo;s Common Vulnerabilities and Exposures (CVE) List. We also scan data in public commits on GitHub and use a combination of machine learning and human review to detect vulnerabilities that are not published in the CVE list.</p>
</blockquote>
<p>so, github looks at your code and sees if there are any potential security issues based on the maintained list of CVEs. the following CVE is what flagged my application:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>essentially an older version of nokogiri is using upstream libxml2 susceptible to a denial of service attack. any verson of nokogiri past 1.8.5 addresses this issue. i was using my macos built in ruby, which had an older version of nokogiri that it used to build my app:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>to fix this, i had to update my .gemspec file and specify the version of nokogiri to use (anything newer than 1.8.5):</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>i deleted the gemfile.lock lockfile to rebuild, but couldn&rsquo;t get a version of nokogiri to build:</p>
<!-- raw HTML omitted -->
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>you get notices about version conflicts, incompatibilities galore messages such as libxml2 requires version x.x.x etc. to avoid messing with the the built in ruby environment (a specific package in a specific version might be used elsewhere in the system), i installed my own ruby environment via brew instead:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>ran <code>bundle install</code> again, and this time it worked:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>took a look at my lockfile, and you can see that the nokogiri version has been updated:</p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --></p>
<p>finally, i pushed my code up to github and the security notice went away. yaaaas! but then, nooooooooo:</p>
<p><code>$ .bin//console</code></p>
<p><code> You must use Bundler 2 or greater with this lockfile.</code></p>
<p>upgrading made my ruby console break. so i&rsquo;m trying to figure that out!</p>
<p>so. being a developer is not just coding, it&rsquo;s having an understanding of the environment you&rsquo;re working in and all of the moving pieces that are involved. thinking about the security of your app and the environment, its versions and dependencies, how to test and monitor your application and do this is in a consistent, sustainable way. having a sense of all of these processes i&rsquo;m assuming can only make you a better developer.</p>
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
		</section>

		<div class="post-tags">
			
			
			<nav class="nav tags">
				<ul class="tags">
					
					<li><a href="/tags/ruby">ruby</a></li>
					
				</ul>
			</nav>
			
			
		</div>
	</article>
</main>
<footer>

  <div>This site is under the <a href="https://creativecommons.org/licenses/by/4.0/">CC BY 4.0</a> license. Thanks for stopping by 🌻 </div>

</footer>


<script>
  feather.replace()
</script></div>
    </body>
</html>
